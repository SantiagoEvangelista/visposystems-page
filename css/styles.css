/* Ultra-minimal all-black UI for Vispo site */
:root {
  --bg: #000;
  --text: #DCD8D8;
  --muted: #a1a3a8;      /* adjusted gray for better contrast */
  --accent: #1a1a2e;     /* dark blue-gray for accents */
  --divider: #4A4A4A;    /* medium gray */
}
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;font-weight:400;line-height:1.5}
img{max-width:100%;display:block}

a{color:var(--text);text-decoration:none}
a:hover{opacity:.85}

/* Header */
.nav{position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;padding:.9rem 1rem;background:rgba(0,0,0,.7);backdrop-filter:blur(6px)}
.nav .logo{height:48px;opacity:.95}
.nav .logo.large{height:64px;}
.nav nav a{font-weight: 400 ;margin-left:1rem;color:var(--text);padding:.7rem 1rem;border-radius:10px;border:1px solid transparent;transition: all 0.2s ease}
.nav nav a.active,.nav nav a:hover{color:var(--muted);background:#111;}

/* Header overlays hero */
.nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
  background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0));
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
}

/* --- Desktop/base nav layout --- */
.nav nav#site-menu {
  display: flex;
  gap: 16px;
  margin-left: auto;        /* brand left, links right */
  position: static;         /* ensure mobile absolute doesn't leak to desktop */
  background: transparent;
  border: 0;
  padding: 0;
  box-shadow: none;
}

/* Titles lighter font */
h1, h2, h3, h4, h5, h6 {
  font-weight: 550;
  color: var(--text);
  letter-spacing: 1.5px;
  line-height: 1.2;
  margin: 0 0 0.6rem 0;
}

/* -------------------- HERO -------------------- */
/* Desktop/tablet baseline: two columns, image bottom-aligned to hero bottom */
.hero {
  position: relative;
  overflow: hidden;                   /* prevent any bleed */
  min-height: 100vh;
  height: 100svh;
  display: grid;
  grid-template-columns: 1.1fr 1fr;
  align-items: stretch;               /* stretch children to hero height */
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
  padding: clamp(2rem, 6vw, 6rem) clamp(16px, 5vw, 48px) clamp(2rem, 4vw, 3rem);
}
.hero .copy { align-self: center; max-width: 60ch; }
.copy .slogan{font-size:clamp(1.6rem,4.5vw,4rem);margin:0 0 .4rem;font-weight:600;letter-spacing:0.02em;line-height:1.2;font-style:italic}
.copy .domains{margin:0;color:var(--muted);font-weight:400;letter-spacing:0.02em}

/* Figure fills hero height; image is pinned to bottom via object-position */
.visual{
  position: relative;
  margin: 0;
  display: flex;
  align-items: stretch;               /* figure content = hero cell height */
  justify-content: center;
  height: 100%;
}
.visual img{
  opacity: 0;
  transform: scale(0.95);
  width: 100%;
  height: 100%;                       /* critical: fit the FIGURE height, not the viewport */
  max-width: none;
  object-fit: contain;                /* keep full product visible */
  object-position: center bottom;     /* bottom of the image sits at hero bottom */
  border: 0;
  animation: fadeIn 1.5s ease-out forwards;
  will-change: opacity,transform;

  /* fade edges so the image melts into black */
  -webkit-mask-image: radial-gradient(120% 120% at 60% 40%, #000 60%, transparent 95%);
          mask-image: radial-gradient(120% 120% at 60% 40%, #000 60%, transparent 95%);
}
.visual figcaption{position:absolute;left:0;bottom:-.2rem;font-size:.9rem;color:var(--muted);letter-spacing:.04em}

/* Ensure enough space under fixed header in normal flow sections (if needed) */
main > .hero:first-child { padding-top: clamp(64px, 12vh, 120px); }

/* -------------------- HERO: SMALL SCREENS -------------------- */
@media (max-width: 820px){
  .hero {
    grid-template-columns: 1fr;
    gap: 0;
    max-width: none;
    width: 100%;
    padding: 0;                        /* no padding to avoid inner overflow */
    min-height: 100vh;
    height: 100svh;
    column-gap: clamp(2rem, 8vw, 18rem);
  }
  .hero .visual {
    grid-row: 1 / -1;
    align-items: stretch;              /* fill full hero height */
  }
  .hero .visual img{
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center bottom;
  }

  /* Overlay copy at the bottom of the hero */
  .hero .copy{
    position: absolute;
    left: 50%;
    bottom: clamp(12px, 4vh, 40px);
    transform: translateX(-50%);
    width: min(92vw, 720px);
    padding: 0 clamp(16px, 6vw, 32px);
    text-align: center;
    z-index: 2;
    pointer-events: none;
  }
  .hero .copy * { pointer-events: auto; }

  .copy .slogan{
    font-size: clamp(1.5rem, 6.2vw, 2.6rem);
    margin: 0 0 .35rem;
    text-shadow: 0 1px 2px rgba(0,0,0,0.6);
  }
  .copy .domains{
    font-size: clamp(0.9rem, 3.2vw, 1.05rem);
    color: var(--muted);
  }

  /* Optional: hide figcaption on tiny screens to avoid overflow nudge */
  .visual figcaption { display: none; }
}

/* Deck */
.deck{max-width:1400px;margin:3rem auto 3rem;padding:0 1rem}
.deckTitle{margin:0 0 .6rem;font-weight:600;color:var(--muted);text-align:center;letter-spacing:0.02em;line-height:1.2}
.carousel{display:grid;grid-auto-flow:column;grid-auto-columns:90%;gap:0.4rem;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:.2rem}
.carousel video{width:100%;aspect-ratio:16/9;object-fit:cover;background:#000;scroll-snap-align:start;border:0;outline:none}

/* Contact */
.contactWrap{max-width:700px;margin:2rem auto 3rem;padding:0 1rem}
.pageTitle{margin:0 0 .4rem}
.lede.center,.center{text-align:center;color:var(--text)}
.contactForm.minimal{display:grid;gap:.8rem;margin:1rem auto 0;max-width:520px}
.contactForm.minimal label{display:grid;gap:.35rem}
.contactForm.minimal input,.contactForm.minimal textarea{background:#0b0b0b;color:var(--text);border:1px solid #111;border-radius:10px;padding:.7rem .9rem}
.contactForm.minimal input:focus,.contactForm.minimal textarea:focus{outline:1px solid #333}
.btn.primary{background:#0f0f0f;border:1px solid #1a1a1a;color:var(--text);padding:.7rem 1rem;border-radius:10px}
.btn.primary:hover{background:#151515}

/* Footer */
.footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 18px;
  background-color: var(--bg);
  border-top: 1px solid var(--divider);
}

.footer-left .icon {
  width: 24px;
  height: 24px;
}

.footer-center {
  text-align: center;
  font-size: 14px;
  color: var(--text);
}

.footer-right a {
  text-decoration: none;
  color: var(--text); /* LinkedIn blue for consistency */
  font-weight: 500;
}

/* Features */
.features{max-width:1200px;margin:4rem auto;padding:0 1rem}
.features h2{font-weight:600;color:var(--text);margin:0 0 2rem;font-size:clamp(1.5rem,3vw,2.5rem);text-align:center;letter-spacing:0.02em;line-height:1.2}
.features ul{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;justify-items:start}
.features li{color:var(--text);font-weight:400;font-size:1.1rem;line-height:1.6;padding-left:1.5rem;position:relative}
.features li:before{content:'•';position:absolute;left:0;color:var(--accent);font-size:1.5rem;line-height:1;top:0}


/* Responsive tweaks unrelated to hero */
@media (max-width:980px){
  .carousel{grid-auto-columns:92%}
}

/* Product features: overlay sidebar on stage */
.product_features .pf {
  position: relative;
  display: grid;
  grid-template-columns: 1fr; /* single stack to allow overlay */
  align-items: center;
  height: 100vh;
  padding: 0 clamp(16px, 5vw, 48px);
}
.product_features .pf-stage {
  position: relative; min-height: 60vh;
}
.product_features .pf-sidebar {
  position: absolute; inset: 0 auto 0 0; /* left overlay */
  display: flex; align-items: center; pointer-events: none; /* allow clicks to pass if needed */
}

/* PF overlay: sidebar overlaps stage */
.product_features .pf { grid-template-columns: 1fr; }
.product_features .pf-stage { position: relative; z-index: 1; }
.product_features .pf-sidebar { position: absolute; inset: 0 auto 0 0; display: flex; align-items: center; pointer-events: none; z-index: 2; }
.product_features .pf-sidebar #pfList { pointer-events: auto; }
.product_features .pf-sidebar .pf-item { font-weight: 400; color: var(--muted); opacity: 0.3; }

/* PF layout fix: two-column grid with right stage, sidebar in flow */
.product_features .pf { display: grid; grid-template-columns: 1.1fr 2fr; }
.product_features .pf-sidebar { position: relative; inset: auto; display: block; z-index: 2; pointer-events: auto; }
.product_features .pf-stage { position: relative; z-index: 1; }
.product_features .pf-sidebar #pfList { position: relative; z-index: 3; overflow: visible; }

/* Ensure waves container covers the stage */
#pfWaves { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; overflow: visible; }

/* Scrollbar styling */
::-webkit-scrollbar { width: 12px; }
::-webkit-scrollbar-track { background: var(--bg, #214f5c); }
::-webkit-scrollbar-thumb {
  background-color: var(--accent, #9be4ff);
  border-radius: 8px;
  border: 3px solid var(--bg, #0b0e13);
}
::-webkit-scrollbar-thumb:hover { background-color: #214F5C; }

/* PF list readability: larger text and more spacing */
.product_features .pf-sidebar .pf-item { font-size: clamp(1.05rem, 1.2vw + 0.9rem, 1.75rem); }
.product_features .pf-sidebar #pfList {
  padding-left: 0;
  padding-inline-start: 0;
  text-align: left;
  gap: clamp(14px, 2.4vw, 32px);
}

/* Force each PF item to a single line */
.product_features .pf-sidebar .pf-item { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Center divider between hero and thesis */
.section-divider { height: 1px; width: min(68%, 920px); margin: 0 auto; background: var(--divider); transform: scaleX(0); transform-origin: 50% 50%; }

/* Thesis section padding */
.Thesis { padding: 0 clamp(16px, 5vw, 48px); text-align: center;}
.thesis-content {padding: 3rem clamp(16px, 5vw, 48px); padding-bottom: 0;}

/* Value section padding */
.Value { padding: 0 clamp(16px, 5vw, 48px); text-align: center;}
.value-content {padding: 3rem clamp(16px, 5vw, 48px); padding-top: 0;}

/* Readability tweaks for paragraphs in Thesis, Value, and the bridge */
.Thesis .thesis-content p,
.Value .value-content p,
.thesis-value-bridge .bridge-text {
  padding-block: 0;
  font-size: clamp(1.05rem, 1.25vw, 1.2rem);
  line-height: 1.65;
  max-width: 58ch;
  margin-inline: auto;
}

/* Bridge section between Thesis and Value with vertical dividers */
.thesis-value-bridge {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(8px, 1.5vh, 14px);
  padding-block: clamp(20px, 5vh, 36px);
  text-align: center;
}

/* Vertical dividers: traced via GSAP with scaleY */
.thesis-value-bridge .v-divider {
  width: 2px;
  height: clamp(28px, 6vh, 48px);
  background: currentColor;
  opacity: 0.9;
  transform-origin: top center;
  transform: scaleY(0); /* GSAP animates to 1 */
  will-change: transform, opacity;
}

/* Word-by-word highlight baseline for bridge text (GSAP-driven) */
.thesis-value-bridge .bridge-text {
  font-weight: 400;
  --bridge-muted: rgba(220, 216, 216, 0.4);
  --bridge-strong: var(--text);
  color: var(--bridge-muted);
}

/* Words injected by JS for animation */
.thesis-value-bridge .bridge-text .word {
  display: inline;
  color: var(--bridge-muted);
  transition: color 0.2s linear;
}
.thesis-value-bridge .bridge-text .word.space { transition: none; }

/* Special phrase "electronic warfare" — GSAP animates color to #7EC5D9 */
.thesis-value-bridge .bridge-text .word.ew {
  font-weight: 800;
}

/* Blackbox features section */
.blackbox_features {padding: 3rem clamp(16px, 5vw, 48px)};

/* Toggle button (hidden by default; shown on small screens) */
.nav .nav-toggle {
  display: none;                       /* hidden on desktop by default */
  background: transparent !important;  /* always transparent; keep icon's default color */
  border: 0;
  padding: .45rem;
  border-radius: 10px;
  cursor: pointer;
  line-height: 0;
  box-shadow: none;
}

/* Mobile menu behavior */
@media (max-width: 820px){
  .nav {
    display: flex;
    gap: 8px;
    /* header is fixed, which anchors the absolute dropdown */
  }

  /* Hide inline links by default on small screens */
  .nav nav#site-menu {
    display: none;
    position: absolute;
    top: 100%;
    right: clamp(10px, 3vw, 16px);
    background: rgba(0,0,0,0.92);
    border: 1px solid #222;
    border-radius: 12px;
    padding: 8px;
    flex-direction: column;
    gap: 4px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.5);
    z-index: 1000;
    margin-left: 0; /* override desktop auto margin */
  }
  .nav.is-open nav#site-menu { display: flex; }

  .nav nav#site-menu a {
    display: block;
    padding: .7rem .9rem;
    color: var(--text);
    border-radius: 8px;
    border: 1px solid transparent;
    white-space: nowrap;
  }
  .nav nav#site-menu a:hover {
    background: #111;
    border-color: #333;
    color: var(--muted);
  }

  /* Show the toggle button on small screens; keep it visually neutral */
  .nav .nav-toggle {
    display: inline-flex;
    margin-left: auto;
    background: transparent !important;
    border: 0;
    box-shadow: none;
  }

  /* Remove left margins used for desktop spacing */
  .nav nav a { margin-left: 0; }
}

/* --- Desktop hard override to prevent icon leakage on large screens --- */
@media (min-width: 821px){
  .nav .nav-toggle { display: none !important; }
  .nav nav#site-menu {
    display: flex !important;
    position: static !important;
    background: transparent !important;
    border: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
  }
}
